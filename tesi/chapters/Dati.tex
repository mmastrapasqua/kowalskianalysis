L'idea alla base di questo studio è, dunque, quella di confrontare diversi mezzi di trasporto su percorsi comuni, ovvero con punto di partenza, destinazione, data e orario di partenza tutti uguali, salvando il tempo impiegato da ciascun mezzo per compiere il tragitto e successivamente usare questi valori per analizzarne le performance singolarmente e compararle. Non ci si aspetta un risultato diverso da quello che vede l'automobile prima in classifica, ma si vuole quantificare la percentuale di vittorie e studiare eventuali variazioni lungo l'arco della giornata di questo vantaggio, visti i problemi relativi al traffico e alle congestioni stradali di cui le grandi città soffrono. Un'idea sul possibile posizionamento in classifica la danno i dati ISFORT del 2019 basati su interviste a campione \cite{isfortaudimob}, riportati nella tabella \ref{table:9}, che mostrano le velocità medie percepite dagli utenti basate sui loro personali viaggi.

\begin{table}[H]
	\centering
	\begin{tabular}{ | l  r  r r | }
		\hline
		& \textbf{auto} & \textbf{bicicletta} & \textbf{mezzi pub.} \\
		\textbf{V.media} & 22 km/h & 15 km/h & 14 km/h \\
		\hline
	\end{tabular}
	\caption{Dati ISFORT 2019, osservatorio \textit{Audimob}, velocità media.}
	\label{table:9}
\end{table}

Avendo a disposizione i dati relativi al percorso di confronto, tra cui il tempo impiegato dai ciascun mezzo, sarebbe possibile ricreare la tabella per ogni fascia oraria, avendo l'opportunità di effettuare ulteriori analisi, come la variazione della velocità media di ora in ora per ogni mezzo o per esempio l'influenza che ha la lunghezza della tratta sulla velocità media. Purtroppo però, un dataset contenente i tempi di percorrenza di tragitti comuni effettuati da diversi utenti su diversi mezzi di trasporto non esiste. Gli unici che possiedono dataset simili di tratte realmente effettuate ma con un singolo mezzo di trasporto, salvo rare eccezioni, sono le aziende private che offrono il servizio di navigazione, come per esempio Google Maps, Waze, Moovit e TomTom. Tali aziende infatti offrono applicazioni per poter guidare l'utente da un punto $a$ ad un punto $b$ con un determinato mezzo, per esempio mezzi pubblici, in tempo reale e col tracciamento GPS, e dato che il servizio nella maggior parte delle volte è offerto gratis, il pagamento per tale servizio è effettuato coi dati del viaggio che l'utente produce passivamente.

\section{Lavori precedenti}
\label{lavoriprecedenti}

Non sono molti gli articoli accademici riguardanti un lavoro simile, molto probabilmente per la difficoltà materiale di effettuare un numero significativo di confronti reali su strada o nel reperire dei dati storici di viaggi realmente effettuati su diversi mezzi di trasporto.

Uno di questi studi è stato svolto nel 2011 a Sidney, Australia, per confrontare la competitività dei tempi di percorrenza in bicicletta rispetto a quelli in automobile \cite{ellison2011travel}. Si legge dall'articolo che sono stati impegnati 178 partecipanti volontari residenti in 6 sobborghi diversi della città per monitorare tramite GPS i loro spostamenti in automobile. Inoltre sono stati incaricati di fornire, tramite un sito web a loro dedicato, dati aggiuntivi riguardo il loro viaggio, tra cui il luogo di destinazione. Per i tempi di percorrenza in bicicletta invece è stato usato un programma per richiedere a Google Maps di calcolare un itinerario a piedi in tempo reale, ovvero ogni volta che tramite GPS veniva segnalato l'inizio di un viaggio in auto da parte di un partecipante, dal punto di partenza al punto di arrivo indicati, a cui è stata applicata la velocità media di un ciclista di 16 km/h per derivarne il tempo di percorrenza. I risultati ottenuti hanno evidenziato come più del 90\% dei tragitti in auto fino a 5 km di lunghezza potesse essere coperto in bicicletta con una penalità di tempo entro i 10 minuti, un dato rilevante visto che a Sidney, sempre secondo l'articolo, il 43\% degli spostamenti in auto è impiegato per tragitti inferiori a 5 km.

Un altro studio simile è stato fatto nel 2015 a Cape Town, Sudafrica, per confrontare i tempi di percorrenza tra mezzi pubblici e automobile sulle medio-lunghe distanze \cite{hitge2015comparison}. A differenza dello studio di Sidney in questo caso è stato chiesto ai partecipanti di svolgere dei tragitti prestabiliti, studiati per coprire geograficamente tutta l'area della città, di cui i luoghi di partenza sono stati scelti strategicamente per essere vicini entro 2 km dalla più vicina fermata del bus o del treno e i cui orari di partenza coincidono con gli orari di picco e non del traffico della città. Ai partecipanti è stato chiesto quindi di effettuare tali tragitti ognuno con un mezzo di trasporto diverso, dall'automobile di proprietà alle alternative proposte dal trasporto pubblico, quali bus, treno e bus a lunga percorrenza, registrando i dati riguardanti il loro viaggi, tra cui il tempo impiegato a raggiungere le fermate e i tempi di attesa per il gruppo dedicato ai mezzi pubblici. I risultati hanno evidenziato come il trasporto pubblico sia nettamente in svantaggio rispetto all'automobile in ogni singolo fronte, dalla lunghezza del percorso più lunga alla velocità media inferiore, persino scartando i tempi di percorrenza a piedi e i tempi di attesa. Facendo leva sui dati a disposizione relativi a ogni singola tappa del tragitto, gli autori hanno analizzato e proposto diverse aree di intervento per migliorare la velocità e l'efficienza del trasporto pubblico della città.

In uno studio del 2017 svolto a New York City, Stati Uniti, sono stati messi a confronto i tempi di percorrenza tra una corsa in taxi e l'utilizzo di un servizio di bike sharing presente nella città \cite{faghih2017hail}. Gli autori si sono provvisti dei dataset del 2014 liberamente messi a disposizione dal sito web dei corrispettivi servizi associati, un caso eccezionale di adempimento alla filosofia Open Data. Una volta acquisiti anche i dati relativi alle stazioni di servizio del bike sharing presenti nella città hanno disegnato intorno a ciascuna di esse un cerchio del raggio di 250 metri per selezionare tutte le tratte percorse in taxi che sono iniziate e terminate entro questi cerchi, agglomerando insieme tratte in bike sharing e in taxi che hanno percorso lo stesso tragitto allo stesso orario. Dai risultati è emerso che, durante le ore di congestione stradale del mattino e del tardo pomeriggio, nelle tratte brevi inferiori ai 3 km di lunghezza, il bike sharing ha impiegato un tempo minore o uguale al taxi il 50\% delle volte. Tali risultati sono stati ulteriormente analizzati, scoprendo che la maggior parte delle vittorie del bike sharing è associata a tratte con un punto di partenza e/o di destinazione con maggior densità di luoghi di lavoro. Gli autori concludono suggerendo dei punti di intervento per favorire i percorsi in bicicletta anche sulle medie distanze, dove in media i taxi hanno avuto la meglio.

\section{Primo prototipo del progetto}

Avendo l'accesso allo storico dei viaggi effettuati dagli utenti di più servizi, ognuno legato a un mezzo di trasporto diverso, come Moovit per i mezzi pubblici e Waze per l'automobile, si potrebbero cercare delle tratte simili nei dataset di ognuno di essi, riguardanti percorsi di viaggiatori che inconsapevolmente hanno condiviso punto di partenza e punto di arrivo, per confrontarne i tempi di percorrenza. Tenendo conto che sarebbe poco efficace usare un operatore di uguaglianza su delle coordinate geografiche prodotte da viaggiatori, dato che risulterebbero poche quelle che effettivamente coincidono, il che vorrebbe dire persone diverse che hanno fatto lo stesso identico viaggio, il modo migliore per catturare dei tragitti comuni sarebbe quello di considerare tali coordinate di partenza e di arrivo a gruppi, ovvero circoscritti entro un certo raggio oppure vicini tra loro entro una certa soglia, e quindi considerabili come lo stesso viaggio. Per catturare questo concetto di gruppi si potrebbe utilizzare uno degli algoritmi di clusterizzazione che sono stati pensati apposta per questo tipo di problemi. Un possibile approccio infatti sarebbe quello di fondere i dataset dei diversi servizi e clusterizzare i punti di partenza e destinazione più frequenti, usando un algoritmo come il DBSCAN \cite{ester1996density} o una delle sue varianti ottimizzate appositamente per dati geospaziali \cite{zhou2000combining}\cite{borah2004improved} che fanno della distanza tra i punti il fulcro dell'algoritmo, per mettere a confronto i mezzi di trasporto usando i viaggi appartenenti allo stesso cluster sia di partenza che di destinazione. Un approccio del genere però risulterebbe problematico sotto alcuni aspetti, primo tra tutti l'esecuzione dell'algoritmo stesso, infatti il DBSCAN ha una complessità spaziale di $O(n^2)$ se si usa una matrice di grandezza $(n^2 - n) / 2$ per evitare calcoli già effettuati e velocizzare l'algoritmo, il che risulterebbe problematico da eseguire su un comune PC in caso di un numero abbondante di tratte, senza contare i doverosi tentativi di stima del parametro $\epsilon$ riguardante la distanza tra punti, fondamentale per un risultato accurato dell'algoritmo.

Un altro problema legato a questo modo di procedere, indipendentemente dall'algoritmo usato per raggruppare le tratte, è quello di trovare dei viaggi percorsi nella stessa data e allo stesso orario, il che ristringerebbe il campione dei viaggi drasticamente. Difatti avrebbe poco senso confrontare tratte percorse in diversi giorni o a orari diversi per via del traffico che caratterizza una città, nello specifico quella di Milano. Secondo diversi servizi di monitoraggio del traffico infatti un viaggio con l'automobile in una settimana lavorativa alle 8:00 è molto sfavorito per via del picco di congestione stradale che caratterizza quel giorno e quell'orario, di conseguenza, confrontarlo con un qualsiasi altro viaggio che non abbia sofferto di questo rallentamento sarebbe poco significativo. Quello che si potrebbe fare avendo a disposizione un dataset di viaggi effettuati realmente sarebbe l'analisi delle performance di ogni mezzo rapportate alle condizioni storiche del traffico per misurarne l'impatto, oppure, come nel caso dello studio di New York City\cite{faghih2017hail}, si potrebbero scegliere dei punti geografici prestabiliti e cercare nei dati delle tratte che sono iniziate e terminate entro questi punti.

\subsection{Assenza di Open Data}

La pubblicazione totale o parziale di questi dati è una pratica ancora poco diffusa che rientra nella filosofia dell'Open Data. Secondo questa filosofia, analoga a quella dell'Open-Source, i dati dovrebbero essere liberamente accessibili da chiunque, senza nessun tipo di restrizione derivante da copyright, patentini o altri meccanismi di controllo che ostacolano la ridistribuzione. Uno dei campi che godrebbe maggiormente di questa filosofia sarebbe proprio la ricerca scientifica, che grazie all'accesso facilitato a questi dati riuscirebbe ad accelerare i tempi delle scoperte, e di conseguenza perfino le aziende stesse che possiedono questi dati ne gioverebbero. Non a caso sono già molti gli studi effettuati basati su dati acquisiti tramite scraping di siti web che sono riusciti a dare un contributo sia in ambito di ricerca e sia all'azienda stessa. Di questi vi è una sottocategorìa dedicata ai trasporti. In questa categoria, un tema di spicco tra tutti è l'analisi dei dati prodotti dai servizi di mobilità condivisa. Per esempio, in uno studio effettuato a Milano nel 2014 sul bike sharing dell'azienda ATM chiamato BikeMi è stato osservato un maggior utilizzo del servizio nelle vicinanze di stazioni ferroviarie, università e zone a traffico limitato (ZTL) rispetto ad altri luoghi \cite{croci2014optimizing}. Un altro studio del 2017 effettuato sempre a Milano propone un sistema di nome \textit{Knowledge Discovery System} basato su scraping dei dati di tre servizi di car sharing, Car2Go, Enjoy e Twist, in grado di offrire stime in tempo reale dei tempi di percorrenza e di rilevare le zone in cui la richiesta del servizio è alta e le auto a disposizione scarseggiano \cite{pagani2017knowledge}. In questo studio inoltre viene evidenziato che durante il giorno le auto sono maggiormente concentrate nella zona centrale di Milano mentre durante la sera si riversano nelle zone suburbane. In entrambi i due studi presi come esempio sono emerse delle informazioni che risulterebbero molto utili per le aziende fornitrici dei servizi e che, di conseguenza, se venissero prese in considerazione, aumenterebbero lo sfruttamento del servizio da parte degli utenti, una soluzione win-win.

Nonostante ciò, nessuna delle aziende che possiede dati generati dagli utenti ha mai reso disponibile apertamente quello che ha raccolto, dato che non ha alcun incentivo nel pubblicarlo nemmeno in parte, nonostante siano i loro utenti i veri proprietari dei dati generati. Alcune di esse si limitano a pubblicare regolarmente delle infografiche e dei dati statistici basati su di essi. Altre ancora si limitano a usare tali dati per promuoversi online e quindi farsi pubblicità. Queste pratiche però risultano problematiche sotto diversi aspetti, primo tra tutti è l'impossibilità di verificarne la veridicità, dato che la sorgente è nascosta, risultando quindi poco credibili se si considera l'interesse primario di un'azienda. Un secondo problema, dal punto di vista dell'azienda stessa, è quello di dover schierare, e quindi pagare, analisti di dati per produrre tali statistiche che però non hanno alcuna valenza scientifica, quando potrebbero solamente incaricarsi di rendere anonimi dei dati e pubblicarli, per ricevere gratuitamente studi fatti su tali dati da studenti e ricercatori di tutte le parti del mondo.

\section{L'alternativa: Simulazione}

Non avendo nemmeno quest'ultima possibilità di avere accesso a dataset di viaggi compiuti con diversi mezzi e visti i problemi che avrebbe introdotto tale approccio, si è scelto di creare un dataset di gare tra mezzi attraverso una simulazione. Quando si effettua una richiesta a un servizio come Google Maps per un tragitto, quello che fa il servizio è calcolare sulla base di dati in tempo reale di traffico, incidenti e dati GPS una stima del tempo di percorrenza per diversi mezzi di trasporto per compiere tale tragitto, come automobile, mezzi pubblici, tragitto a piedi e bicicletta. Sebbene siano solo stime e non cronometraggi realmente effettuati, esse risultano estremamente precise o quanto di più simile alla realtà. Lo stato attuale della tecnologia e la loro vasta e affermata presenza nella vita quotidiana delle persone permette a tali servizi di avere informazioni sempre più precise, utilizzando tecniche come quella del crowdsourcing di dati dagli smartphone degli utilizzatori e sfruttando lo storico dei viaggi effettuati. Dunque, si potrebbero usare questi dati non troppo lontani dalla realtà e costantemente aggiornati per confrontare i vari mezzi di trasporto su percorsi comuni, generati a random. Non avendo altra scelta, quest'ultimo metodo è stato scelto definitivamente come metodo per questo studio.

\subsection{Crowdsourced data: il caso Waze}

Sul blog ufficiale di Waze è stata pubblicata la descrizione ad alto livello dell'algoritmo usato per fornire una stima del tempo di arrivo (in inglese noto come ETA: Estimated Time of Arrival), tradotta graficamente in stima di tempo di percorrenza\footnote{\url{https://medium.com/waze}. Accessed: 20/01/2021}. A fronte di una richiesta di viaggio, per prima cosa vengono prelevati i dati storici della velocità media di ogni segmento di strada compreso nell'itinerario calcolato. Questo particolare dato viene aggiornato ogni 30 minuti usando i dati prodotti dallo smartphone dei loro utenti, e nel caso non sia presente nessun dato la ricerca procede a ritroso fino alle ultime 8 settimane. In secondo luogo usa i dati in tempo reale che ha a disposizione dagli utenti connessi e dei dati del traffico. Infine, tramite filtri per eliminare dati fuori scala, ovvero gli utenti estremamente veloci o lenti, ed equazioni matematiche elaborano una stima del tempo di percorrenza. Inoltre, tale stima viene aggiornata in tempo reale man mano che si procede nel viaggio, sempre tramite i dati collezionati da altri utenti. Quello che infatti ci tiene a sottolineare Waze e che la rende competitiva è la stima dei tempi di percorrenza basata interamente sulla loro comunità di utenti.

























